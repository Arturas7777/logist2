{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto; padding: 20px;">
    <h1>üíµ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞</h1>
    
    <div style="background: linear-gradient(135deg, {% if client.balance > 0 %}#11998e, #38ef7d{% elif client.balance < 0 %}#eb3349, #f45c43{% else %}#6c5ce7, #5a4bd1{% endif %}); padding: 20px; border-radius: 12px; color: white; margin-bottom: 20px;">
        <div style="font-size: 1.2em; margin-bottom: 5px;">{{ client.name }}</div>
        <div style="font-size: 2em; font-weight: bold;">
            {% if client.balance >= 0 %}+{% endif %}{{ client.balance }} ‚Ç¨
        </div>
        <div style="opacity: 0.9; margin-top: 5px;">
            {% if client.balance < 0 %}üìâ –î–æ–ª–≥{% elif client.balance > 0 %}üí∞ –ù–∞ –±–∞–ª–∞–Ω—Å–µ{% else %}‚öñÔ∏è –ù—É–ª–µ–≤–æ–π –±–∞–ª–∞–Ω—Å{% endif %}
        </div>
    </div>
    
    <form method="post" style="background: var(--cm-bg, #f5f6fa); padding: 25px; border-radius: 8px;">
        {% csrf_token %}
        
        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 8px; font-weight: 600;">–°—É–º–º–∞ (‚Ç¨)</label>
            <input type="number" name="amount" step="0.01" min="0.01" required 
                   style="width: 100%; padding: 12px; font-size: 18px; border: 2px solid var(--cm-border, #ebebf0); border-radius: 6px;">
        </div>
        
        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 8px; font-weight: 600;">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</label>
            <div style="display: flex; gap: 15px;">
                <label style="flex: 1; display: flex; align-items: center; padding: 15px; background: white; border: 2px solid var(--cm-border, #ebebf0); border-radius: 6px; cursor: pointer;">
                    <input type="radio" name="method" value="CASH" checked style="margin-right: 10px;">
                    üíµ –ù–∞–ª–∏—á–Ω—ã–µ
                </label>
                <label style="flex: 1; display: flex; align-items: center; padding: 15px; background: white; border: 2px solid var(--cm-border, #ebebf0); border-radius: 6px; cursor: pointer;">
                    <input type="radio" name="method" value="CARD" style="margin-right: 10px;">
                    üí≥ –ü–µ—Ä–µ–≤–æ–¥
                </label>
            </div>
        </div>
        
        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 8px; font-weight: 600;">–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
            <textarea name="description" rows="3" 
                      style="width: 100%; padding: 12px; border: 2px solid var(--cm-border, #ebebf0); border-radius: 6px;"
                      placeholder="–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –∫ –ø–ª–∞—Ç–µ–∂—É..."></textarea>
        </div>
        
        <div style="display: flex; gap: 15px;">
            <button type="submit" style="flex: 1; padding: 15px; background: var(--cm-green, #10b981); color: white; border: none; border-radius: 6px; font-size: 16px; font-weight: bold; cursor: pointer;">
                ‚úÖ –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å
            </button>
            <a href="{% url 'admin:core_client_change' client.pk %}" 
               style="padding: 15px 25px; background: var(--cm-text-secondary, #6b7280); color: white; text-decoration: none; border-radius: 6px; font-size: 16px;">
                –û—Ç–º–µ–Ω–∞
            </a>
        </div>
    </form>
</div>
{% endblock %}


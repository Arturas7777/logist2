{% extends "admin/base.html" %}
{% load static %}

{% block title %}{% if subtitle %}{{ subtitle }} | {% endif %}{{ title }} | Caromoto CRM{% endblock %}

{% block branding %}
<h1 id="site-name">
    <a href="{% url 'admin:index' %}">
        <img src="{% static 'website/images/caromoto_logo.png' %}" alt="Caromoto" style="height: 55px; vertical-align: middle; margin-left: -20px;">
    </a>
</h1>

<!-- –ò–∫–æ–Ω–∫–∏ –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ -->
<div id="quick-nav" style="position: absolute; left: 50%; transform: translateX(-50%) translateY(-50%); top: 50%; display: flex; gap: 25px; align-items: center;">
    <a href="{% url 'admin:core_container_changelist' %}" title="–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã" style="text-decoration: none; font-size: 32px; transition: transform 0.2s;">üì¶</a>
    <a href="{% url 'admin:core_car_changelist' %}" title="–ê–≤—Ç–æ–º–æ–±–∏–ª–∏" style="text-decoration: none; font-size: 32px; transition: transform 0.2s;">üöó</a>
    <a href="{% url 'admin:core_client_changelist' %}" title="–ö–ª–∏–µ–Ω—Ç—ã" style="text-decoration: none; font-size: 32px; transition: transform 0.2s;">üë•</a>
    <a href="{% url 'admin:core_newinvoice_changelist' %}" title="–ò–Ω–≤–æ–π—Å—ã" style="text-decoration: none; font-size: 32px; transition: transform 0.2s;">üìÑ</a>
    <a href="{% url 'admin:core_warehouse_changelist' %}" title="–°–∫–ª–∞–¥—ã" style="text-decoration: none; font-size: 32px; transition: transform 0.2s;">üè≠</a>
    <a href="{% url 'admin:core_line_changelist' %}" title="–õ–∏–Ω–∏–∏" style="text-decoration: none; font-size: 32px; transition: transform 0.2s;">üö¢</a>
    <a href="{% url 'admin:core_carrier_changelist' %}" title="–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫–∏" style="text-decoration: none; font-size: 32px; transition: transform 0.2s;">üöö</a>
</div>
{% endblock %}

{% block welcome-msg %}{% endblock %}

{% block userlinks %}
<a href="/" target="_blank">–°–ê–ô–¢</a> /
<a href="{% url 'admin:password_change' %}">–ò–ó–ú.–ü–ê–†–û–õ–¨</a> /
<a href="{% url 'admin:logout' %}">–í—ã–π—Ç–∏</a>
{% endblock %}

{% block extrastyle %}
{{ block.super }}
<link rel="stylesheet" type="text/css" href="{% static 'css/logist2_custom_admin.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'admin/css/ai-chat.css' %}">
<style>
    #header {
        position: relative;
    }
    #quick-nav a:hover {
        transform: scale(1.2);
    }
    /* –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ */
    :root {
        color-scheme: light !important;
    }
</style>
<script>
    // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É
    document.documentElement.dataset.theme = 'light';
</script>
{% endblock %}

{% block footer %}
{{ block.super }}
<div id="ai-chat-widget">
    <button class="ai-chat-button" id="ai-chat-toggle" title="AI –ø–æ–º–æ—â–Ω–∏–∫">AI</button>
    <div class="ai-chat-window" id="ai-chat-window" style="display: none;">
        <div class="ai-chat-header">
            <h6>AI –ø–æ–º–æ—â–Ω–∏–∫</h6>
            <button class="btn-close btn-close-white" id="ai-chat-close" aria-label="Close"></button>
        </div>
        <div class="ai-chat-messages" id="ai-chat-messages">
            <div class="ai-message">
                <div class="message-content">
                    –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø AI-–ø–æ–º–æ—â–Ω–∏–∫. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?
                </div>
            </div>
        </div>
        <div class="ai-chat-input">
            <input type="text" id="ai-chat-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å..." />
            <button id="ai-chat-send">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>
    </div>
</div>
<script>
    window.__adminPageContext = {
        is_admin: true,
        path: "{{ request.path|escapejs }}",
        title: "{{ title|default:''|escapejs }}",
        app_label: "{% if opts %}{{ opts.app_label|escapejs }}{% endif %}",
        model_name: "{% if opts %}{{ opts.model_name|escapejs }}{% endif %}",
        object_id: "{% if object_id %}{{ object_id|escapejs }}{% endif %}",
        add: {{ add|default:False|yesno:"true,false" }},
        change: {{ change|default:False|yesno:"true,false" }},
        is_popup: {{ is_popup|default:False|yesno:"true,false" }}
    };
</script>
<script src="{% static 'website/js/ai-chat.js' %}"></script>
{% endblock %}


{% extends "admin/base_site.html" %}
{% load i18n admin_urls static admin_modify %}

{% block extrahead %}{{ block.super }}
<script type="text/javascript" src="{% url 'admin:jsi18n' %}"></script>
{{ form.media }}
{% endblock %}

{% block extrastyle %}{{ block.super }}
<link rel="stylesheet" type="text/css" href="{% static "admin/css/forms.css" %}" />
<style>
    .warning-box {
        background-color: #fff3cd;
        border: 1px solid #ffeaa7;
        border-radius: 4px;
        padding: 15px;
        margin: 20px 0;
    }
    .warning-box h3 {
        color: #856404;
        margin-top: 0;
    }
    .warning-box p {
        color: #856404;
        margin-bottom: 10px;
    }
    .danger-box {
        background-color: #f8d7da;
        border: 1px solid #f5c6cb;
        border-radius: 4px;
        padding: 15px;
        margin: 20px 0;
    }
    .danger-box h3 {
        color: #721c24;
        margin-top: 0;
    }
    .danger-box p {
        color: #721c24;
        margin-bottom: 10px;
    }
    .action-buttons {
        margin-top: 20px;
        text-align: center;
    }
    .btn {
        display: inline-block;
        padding: 10px 20px;
        margin: 0 10px;
        border: none;
        border-radius: 4px;
        text-decoration: none;
        font-size: 14px;
        cursor: pointer;
    }
    .btn-danger {
        background-color: #dc3545;
        color: white;
    }
    .btn-secondary {
        background-color: #6c757d;
        color: white;
    }
    .btn:hover {
        opacity: 0.8;
    }
</style>
{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
<a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
&rsaquo; <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{{ opts.app_config.verbose_name }}</a>
&rsaquo; <a href="{% url 'admin:core_payment_changelist' %}">–ü–ª–∞—Ç–µ–∂–∏</a>
&rsaquo; –û–±–Ω—É–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–≤
</div>
{% endblock %}

{% block content %}
<div id="content-main">
    <div class="warning-box">
        <h3>‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ!</h3>
        <p><strong>–í—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å –æ–±–Ω—É–ª–∏—Ç—å –í–°–ï –±–∞–ª–∞–Ω—Å—ã –≤—Å–µ—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –∏ –∫–æ–º–ø–∞–Ω–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ.</strong></p>
        <p>–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ:</p>
        <ul>
            <li>–û–±–Ω—É–ª–∏—Ç –Ω–∞–ª–∏—á–Ω—ã–µ –±–∞–ª–∞–Ω—Å—ã (cash_balance)</li>
            <li>–û–±–Ω—É–ª–∏—Ç –±–µ–∑–Ω–∞–ª–∏—á–Ω—ã–µ –±–∞–ª–∞–Ω—Å—ã (card_balance)</li>
            <li>–û–±–Ω—É–ª–∏—Ç –∏–Ω–≤–æ–π—Å-–±–∞–ª–∞–Ω—Å—ã (invoice_balance)</li>
            <li>–û–±–Ω—É–ª–∏—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø–æ–ª—è (debt, cash_balance_old, card_balance_old)</li>
        </ul>
    </div>

    <div class="danger-box">
        <h3>üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ!</h3>
        <p><strong>–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –ù–ï–û–ë–†–ê–¢–ò–ú–û!</strong></p>
        <p>–ü–æ—Å–ª–µ –æ–±–Ω—É–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–æ–≤:</p>
        <ul>
            <li>–í—Å–µ —Ç–µ–∫—É—â–∏–µ –±–∞–ª–∞–Ω—Å—ã –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã</li>
            <li>–ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π –æ—Å—Ç–∞–Ω–µ—Ç—Å—è, –Ω–æ –±–∞–ª–∞–Ω—Å—ã –±—É–¥—É—Ç –Ω—É–ª–µ–≤—ã–º–∏</li>
            <li>–ü–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –±–∞–ª–∞–Ω—Å–æ–≤</li>
        </ul>
    </div>

    <div class="action-buttons">
        <form method="post">
            {% csrf_token %}
            <input type="hidden" name="action" value="reset_all_balances" />
            <input type="hidden" name="apply" value="yes" />
            {% for obj in queryset %}
            <input type="hidden" name="_selected_action" value="{{ obj.pk }}" />
            {% endfor %}
            <button type="submit" class="btn btn-danger">
                üóëÔ∏è –î–∞, –æ–±–Ω—É–ª–∏—Ç—å –≤—Å–µ –±–∞–ª–∞–Ω—Å—ã
            </button>
            <a href="{% url 'admin:core_payment_changelist' %}" class="btn btn-secondary">
                ‚ùå –û—Ç–º–µ–Ω–∞
            </a>
        </form>
    </div>

    <div style="margin-top: 30px; text-align: center;">
        <p><em>–ï—Å–ª–∏ –≤—ã –Ω–µ —É–≤–µ—Ä–µ–Ω—ã, –Ω–∞–∂–º–∏—Ç–µ "–û—Ç–º–µ–Ω–∞" –∏ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ —Å–ø–∏—Å–∫—É –ø–ª–∞—Ç–µ–∂–µ–π.</em></p>
    </div>
</div>
{% endblock %}